<?xml version="1.0" encoding="utf-8"?>
<openerp>
	<data>
		<template id="assets_backend" name="taxpayer assets" inherit_id="web.assets_backend">
           <xpath expr="." position="inside">
               <!-- Este archivo contiene el CSS necesario para evitar que los controles de textarea sean redimensionados -->
               <link rel="stylesheet" href="/treming_sv_taxpayer/static/src/css/taxpayer.css"/>
           </xpath>

       </template>
		<!-- Extend form -->
		<record model="ir.ui.view" id="view_form_es_res_partner_inherited">
			<field name="name">res.partner.form.es</field>
			<field name="model">res.partner</field>
			<field name="inherit_id" ref="base.view_partner_form"/>
			<field name="arch" type="xml">
				<!-- Reemplazo el group que contiene los campos sin label -->
				<xpath expr="/form/sheet/group/group[1]" position="replace">
					<!-- Agrupamos los elementos que tienen que ver con lo tributario junto con otros que son generales -->
					<group>
						<field name="razon_social" string="Razón Social" attrs="{'invisible':[('is_company', '!=', True)]}"/>
						<field name="nit_sv" string="NIT" placeholder="1234-123456-123-1"/>
						<field name="nrc_sv" string="NRC" placeholder="123456-7" attrs="{'invisible':[('is_company', '!=', True)]}"/>
						
						<field name="dui" string="DUI" placeholder="12345678-9" attrs="{'invisible':[('is_company', '=', True)]}"/>
						<field name="pasaporte" string="Pasaporte" placeholder="AN123456" attrs="{'invisible':[('is_company', '=', True)]}"/>
						
						<field name="street" string="Dirección"
							placeholder="p.e. Final Avenida Norte y Calle La Mascota, Condominio Independencia #4"/>
						<!-- Oculto street2 en favor de tener un unico campo para la direccion -->
						<field name="street2" string="Calle" attrs="{'invisible':1}"/>
						<field name="country_id"/>
						<field name="state_id"/>
						<field name="city"/>
						<field name="total_invoicex" attrs="{'invisible':1}"/>
						<field name="zip" string="Código Postal"/>
						<field name="website"/>
						<field name="is_company" attrs="{'invisible':1}"/>
						<field name="type" string="Este es el agregado" attrs="{'invisible':1}"/>
					</group>
				</xpath>
				
				<div name="button_box" position="inside">
                    <button type="object"
                        class="oe_stat_button"
                        id="invoice_button"
                        icon="fa-pencil-square-o"
                        name="open_partner_history"
                        attrs="{'invisible': [('customer', '=', False)]}"
                        context="{'default_partner_id': active_id}">
                        <div class="o_form_field o_stat_info">
                            <span class="o_stat_value"><field name="total_invoice" widget='monetary' options="{'currency_field': 'currency_id'}"/></span>
                            <span class="o_stat_text">Total</span>
                        </div>
                    </button>
                </div>
                
				<!-- Reemplazo el group que contiene el resto de los campos -->
				<xpath expr="/form/sheet/group/group[2]" position="replace">
				<!-- Agrupamos los elementos que tienen que ver con lo tributario junto con otros que son generales -->
					<group>
						<field name="function" string="Puesto laboral" help="p.e. Director de Ventas"
							attrs="{'invisible':[('is_company', '==', True)]}"/>
						<field name="giro" string="Giro" placeholder="p.e. Venta de Alimentos y Bebidas"
							attrs="{'invisible':[('is_company', '!=', True)]}"/>
						<field name="phone" string="Teléfono"/>
						<field name="mobile" string="Celular"/>
						<field name="fax" string="Fax"/>
						<field name="email" placeholder="p.e. nombre.apellido@hotmail.com"/>
						<field name="title" string="Título" placeholder="p.e. Señor"
							attrs="{'invisible':[('is_company', '==', True)]}"/>
					</group>
				</xpath>
			</field>
		</record>
	</data>
</openerp>
